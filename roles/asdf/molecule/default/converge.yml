---
# Molecule converge playbook for asdf role
# Tests the new centralized group-based architecture

- name: Converge
  hosts: all
  become: true

  vars:
    # New centralized plugin configuration
    asdf_plugins:
      # Using direnv - lightweight plugin for fast testing
      - name: "direnv"
        versions:
          - "2.32.3"
        global: "2.32.3"

    # Simple user list (new format)
    asdf_users:
      - "root"  # Molecule containers use root by default

    # Shell configuration
    asdf_shell_profile: "bashrc"

  tasks:
    - name: Include asdf role
      ansible.builtin.include_role:
        name: asdf

# Docker edition
docker_edition: "ce"

# Docker packages to install
docker_packages:
  - "docker-{{ docker_edition }}"
  - "docker-{{ docker_edition }}-cli"
  - containerd.io
  - docker-buildx-plugin
  - docker-compose-plugin

# Docker APT repository (Debian/Ubuntu)
docker_apt_repository: >-
  deb [arch={{ docker_apt_arch }} signed-by=/etc/apt/keyrings/docker.asc]
  https://download.docker.com/linux/{{ ansible_distribution | lower }}
  {{ ansible_distribution_release }} stable
docker_apt_arch: >-
  {{ 'amd64' if ansible_architecture == 'x86_64'
  else 'arm64' if ansible_architecture == 'aarch64'
  else ansible_architecture }}
docker_apt_gpg_key: "https://download.docker.com/linux/{{ ansible_distribution | lower }}/gpg"

# Docker YUM repository (RHEL/CentOS)
docker_yum_repo_name: "docker-ce-stable"
docker_yum_repo_description: "Docker CE Stable - $releasever - $basearch"
docker_yum_repo_baseurl: >-
  https://download.docker.com/linux/centos/{{ ansible_distribution_major_version }}/$basearch/stable
docker_yum_repo_gpgcheck: true
docker_yum_repo_gpgkey: "https://download.docker.com/linux/centos/gpg"
docker_yum_repo_enabled: true

# Users to add to docker group
docker_users: []

# Docker daemon configuration
docker_daemon_config:
  log-driver: "json-file"
  log-opts:
    max-size: "10m"
    max-file: "3"
  storage-driver: "overlay2"

# Enable BuildKit via environment variable
docker_buildkit_enabled: true

# List of insecure registries (HTTP or self-signed certificates)
docker_insecure_registries: []

# Docker daemon configuration file path
docker_daemon_config_path: /etc/docker/daemon.json

# Docker service configuration
docker_service_enabled: true
docker_service_state: started

# Configure Docker repository
docker_configure_repo: true

# Prerequisites packages
docker_prerequisites_debian:
  - apt-transport-https
  - ca-certificates
  - curl
  - gnupg
  - lsb-release

docker_prerequisites_redhat:
  - yum-utils
  - device-mapper-persistent-data
  - lvm2

# Docker registry authentication
docker_registries_auth: []
